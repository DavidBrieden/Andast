(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var App = {};

App.init = function () {
    this.canvas = document.getElementById("canvas");
    this.canvas.width = 800;
    this.canvas.height = 600;
    this.ctx = this.canvas.getContext("2d");
};

module.exports = App;

},{}],2:[function(require,module,exports){
"use strict";

var boxes = [];

// X
//XXX
boxes.push([{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 0, y: 2 }, { x: 1, y: 1 }]);
//XX
// XX
boxes.push([{ x: 1, y: 0 }, { x: 0, y: 1 }, { x: 0, y: 2 }, { x: 1, y: 1 }]);

module.exports = boxes;

},{}],3:[function(require,module,exports){
"use strict";

var App = require("./App.js");

var Field = {};

Field.init = function () {

    Field.offsetx = 20;
    Field.offsety = 20;
    Field.blocksize = 10;
    Field.width = 20;
    Field.height = 40;

    Field.field = [];
    for (var x = 0; x < Field.width; x++) {
        var column = [];
        for (var y = 0; y < Field.height; y++) {
            column.push({
                show: false,
                color: 0
            });
        }
        Field.field.push(column);
    }
};

Field.render = function () {
    for (var x = 0; x < Field.width; x++) {
        for (var y = 0; y < Field.height; y++) {
            if (Field.field[x][y].show == true) {
                App.ctx.beginPath();
                App.ctx.lineWidth = "3";
                App.ctx.strokeStyle = Field.field[x][y].color;

                App.ctx.rect(x * Field.blocksize + Field.offsetx, (Field.height - 1) * Field.blocksize + Field.offsety - y * Field.blocksize, Field.blocksize, Field.blocksize);
                App.ctx.stroke();
            }
        }
    }

    App.ctx.beginPath();
    App.ctx.lineWidth = "1";
    App.ctx.strokeStyle = "black";
    App.ctx.rect(Field.offsetx, Field.offsety, Field.width * Field.blocksize, Field.height * Field.blocksize);
    App.ctx.stroke();
};

module.exports = Field;

},{"./App.js":1}],4:[function(require,module,exports){
'use strict';

var Field = require('./Field.js');
var App = require('./App.js');
var Boxes = require('./Boxes.js');
var Game = {};

Game.player = {};

Game.start = function () {
    setInterval(this.tick, 50);
    setInterval(this.movePlayer, 1000);
};

Game.tick = function () {
    Game.update();
    Game.render();
};

Game.render = function () {
    App.ctx.clearRect(0, 0, App.canvas.width, App.canvas.height);
    Field.render();
};

Game.update = function () {};

Game.spawn = function () {
    var spawnpoint = { x: Math.floor(Field.width / 2) - 1, y: Field.height - 1 };
    Game.player.position = spawnpoint;
    // eine zufällige Figur auswählen
    var index = Math.floor(Math.random() * Boxes.length);
    var figure = Boxes[index];
    Game.player.figure = figure;

    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[spawnpoint.x - figure[i].x][spawnpoint.y - figure[i].y] = {
            show: true,
            color: "blue"
        };
    }
};

Game.movePlayer = function () {
    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[Game.player.position.x - Game.player.figure[i].x][Game.player.position.y - Game.player.figure[i].y] = {
            show: false,
            color: "black"
        };
    }
    Game.player.position.y--;
    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[Game.player.position.x - Game.player.figure[i].x][Game.player.position.y - Game.player.figure[i].y] = {
            show: true,
            color: "blue"
        };
    }
};

module.exports = Game;

},{"./App.js":1,"./Boxes.js":2,"./Field.js":3}],5:[function(require,module,exports){
'use strict';

var Game = require('./Game.js');
var App = require('./App.js');
var Field = require('./Field.js');

App.init();
Field.init();

Game.spawn();

Game.start();

},{"./App.js":1,"./Field.js":3,"./Game.js":4}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGNsaWVudFxcc2NyaXB0c1xcQXBwLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEJveGVzLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEZpZWxkLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEdhbWUuanMiLCJzcmNcXGNsaWVudFxcc2NyaXB0c1xcbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxNQUFNLEVBQVY7O0FBRUEsSUFBSSxJQUFKLEdBQVcsWUFBVTtBQUNqQixTQUFLLE1BQUwsR0FBYyxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBZDtBQUNBLFNBQUssTUFBTCxDQUFZLEtBQVosR0FBb0IsR0FBcEI7QUFDQSxTQUFLLE1BQUwsQ0FBWSxNQUFaLEdBQXFCLEdBQXJCO0FBQ0EsU0FBSyxHQUFMLEdBQVcsS0FBSyxNQUFMLENBQVksVUFBWixDQUF1QixJQUF2QixDQUFYO0FBQ0gsQ0FMRDs7QUFPQSxPQUFPLE9BQVAsR0FBaUIsR0FBakI7Ozs7O0FDVEEsSUFBSSxRQUFRLEVBQVo7O0FBRUE7QUFDQTtBQUNBLE1BQU0sSUFBTixDQUFXLENBQUMsRUFBQyxHQUFFLENBQUgsRUFBSyxHQUFFLENBQVAsRUFBRCxFQUFXLEVBQUMsR0FBRSxDQUFILEVBQUssR0FBRSxDQUFQLEVBQVgsRUFBcUIsRUFBQyxHQUFFLENBQUgsRUFBSyxHQUFFLENBQVAsRUFBckIsRUFBK0IsRUFBQyxHQUFFLENBQUgsRUFBSyxHQUFFLENBQVAsRUFBL0IsQ0FBWDtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQU4sQ0FBVyxDQUFDLEVBQUMsR0FBRSxDQUFILEVBQUssR0FBRSxDQUFQLEVBQUQsRUFBVyxFQUFDLEdBQUUsQ0FBSCxFQUFLLEdBQUUsQ0FBUCxFQUFYLEVBQXFCLEVBQUMsR0FBRSxDQUFILEVBQUssR0FBRSxDQUFQLEVBQXJCLEVBQStC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QUFLLE1BQUwsQ0FBWSxRQUFaLENBQXFCLENBQXJCLEdBQXlCLEtBQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBN0csSUFBa0g7QUFDOUcsa0JBQU0sS0FEd0c7QUFFOUcsbUJBQU87QUFGdUcsU0FBbEg7QUFJSDtBQUNELFNBQUssTUFBTCxDQUFZLFFBQVosQ0FBcUIsQ0FBckI7QUFDQTtBQUNBLFNBQUssSUFBSSxJQUFFLENBQVgsRUFBYSxJQUFFLENBQWYsRUFBaUIsR0FBakIsRUFBcUI7QUFDakI7QUFDQSxjQUFNLEtBQU4sQ0FBWSxLQUFLLE1BQUwsQ0FBWSxRQUFaLENBQXFCLENBQXJCLEdBQXlCLEtBQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBM0QsRUFBOEQsS0FBSyxNQUFMLENBQVksUUFBWixDQUFxQixDQUFyQixHQUF5QixLQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLENBQW5CLEVBQXNCLENBQTdHLElBQWtIO0FBQzlHLGtCQUFNLElBRHdHO0FBRTlHLG1CQUFPO0FBRnVHLFNBQWxIO0FBSUg7QUFDSixDQWxCRDs7QUFvQkEsT0FBTyxPQUFQLEdBQWlCLElBQWpCOzs7OztBQ2xFQSxJQUFJLE9BQU8sUUFBUSxXQUFSLENBQVg7QUFDQSxJQUFJLE1BQU0sUUFBUSxVQUFSLENBQVY7QUFDQSxJQUFJLFFBQVEsUUFBUSxZQUFSLENBQVo7O0FBRUEsSUFBSSxJQUFKO0FBQ0EsTUFBTSxJQUFOOztBQUVBLEtBQUssS0FBTDs7QUFFQSxLQUFLLEtBQUwiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIEFwcCA9IHt9O1xyXG5cclxuQXBwLmluaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gODAwO1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gNjAwO1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFwcDsiLCJ2YXIgYm94ZXMgPSBbXTtcclxuXHJcbi8vIFhcclxuLy9YWFhcclxuYm94ZXMucHVzaChbe3g6MCx5OjB9LHt4OjAseToxfSx7eDowLHk6Mn0se3g6MSx5OjF9XSk7XHJcbi8vWFhcclxuLy8gWFhcclxuYm94ZXMucHVzaChbe3g6MSx5OjB9LHt4OjAseToxfSx7eDowLHk6Mn0se3g6MSx5OjF9XSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGJveGVzO1xyXG4iLCJ2YXIgQXBwID0gcmVxdWlyZShcIi4vQXBwLmpzXCIpO1xyXG5cclxuXHJcbnZhciBGaWVsZCA9IHt9O1xyXG5cclxuRmllbGQuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgRmllbGQub2Zmc2V0eCA9IDIwO1xyXG4gICAgRmllbGQub2Zmc2V0eSA9IDIwO1xyXG4gICAgRmllbGQuYmxvY2tzaXplID0gMTA7XHJcbiAgICBGaWVsZC53aWR0aCA9IDIwO1xyXG4gICAgRmllbGQuaGVpZ2h0ID0gNDA7XHJcblxyXG4gICAgRmllbGQuZmllbGQgPSBbXTtcclxuICAgIGZvcih2YXIgeD0wO3g8RmllbGQud2lkdGg7eCsrKXtcclxuICAgICAgICB2YXIgY29sdW1uID0gW107XHJcbiAgICAgICAgZm9yKHZhciB5PTA7eTxGaWVsZC5oZWlnaHQ7eSsrKXtcclxuICAgICAgICAgICAgY29sdW1uLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRmllbGQuZmllbGQucHVzaChjb2x1bW4pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG59O1xyXG5cclxuXHJcbkZpZWxkLnJlbmRlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICBmb3IodmFyIHg9MDt4PEZpZWxkLndpZHRoO3grKyl7XHJcbiAgICAgICAgZm9yKHZhciB5PTA7eTxGaWVsZC5oZWlnaHQ7eSsrKXtcclxuICAgICAgICAgICAgaWYgKEZpZWxkLmZpZWxkW3hdW3ldLnNob3cgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgQXBwLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIEFwcC5jdHgubGluZVdpZHRoPVwiM1wiO1xyXG4gICAgICAgICAgICAgICAgQXBwLmN0eC5zdHJva2VTdHlsZSA9IEZpZWxkLmZpZWxkW3hdW3ldLmNvbG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIEFwcC5jdHgucmVjdChcclxuICAgICAgICAgICAgICAgICAgICB4KkZpZWxkLmJsb2Nrc2l6ZStGaWVsZC5vZmZzZXR4LFxyXG4gICAgICAgICAgICAgICAgICAgICgoRmllbGQuaGVpZ2h0LTEpKkZpZWxkLmJsb2Nrc2l6ZSkrRmllbGQub2Zmc2V0eS0oeSpGaWVsZC5ibG9ja3NpemUpLFxyXG4gICAgICAgICAgICAgICAgICAgIEZpZWxkLmJsb2Nrc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBGaWVsZC5ibG9ja3NpemVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEFwcC5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICBBcHAuY3R4LmxpbmVXaWR0aD1cIjFcIjtcclxuICAgIEFwcC5jdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICBBcHAuY3R4LnJlY3QoXHJcbiAgICAgICAgRmllbGQub2Zmc2V0eCxcclxuICAgICAgICBGaWVsZC5vZmZzZXR5LFxyXG4gICAgICAgIEZpZWxkLndpZHRoKkZpZWxkLmJsb2Nrc2l6ZSxcclxuICAgICAgICBGaWVsZC5oZWlnaHQgKiBGaWVsZC5ibG9ja3NpemVcclxuICAgICk7XHJcbiAgICBBcHAuY3R4LnN0cm9rZSgpO1xyXG59O1xyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEZpZWxkOyIsInZhciBGaWVsZCA9IHJlcXVpcmUoJy4vRmllbGQuanMnKTtcclxudmFyIEFwcCA9IHJlcXVpcmUoJy4vQXBwLmpzJyk7XHJcbnZhciBCb3hlcyA9IHJlcXVpcmUoJy4vQm94ZXMuanMnKTtcclxudmFyIEdhbWUgPSB7fTtcclxuXHJcbkdhbWUucGxheWVyID0ge307XHJcblxyXG5HYW1lLnN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgIHNldEludGVydmFsKHRoaXMudGljaywgNTApO1xyXG4gICAgc2V0SW50ZXJ2YWwodGhpcy5tb3ZlUGxheWVyLCAxMDAwKTtcclxufTtcclxuXHJcbkdhbWUudGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICBHYW1lLnVwZGF0ZSgpO1xyXG4gICAgR2FtZS5yZW5kZXIoKTtcclxufTtcclxuXHJcbkdhbWUucmVuZGVyID0gZnVuY3Rpb24oKXtcclxuICAgIEFwcC5jdHguY2xlYXJSZWN0KDAsIDAsIEFwcC5jYW52YXMud2lkdGgsIEFwcC5jYW52YXMuaGVpZ2h0KTtcclxuICAgIEZpZWxkLnJlbmRlcigpO1xyXG59O1xyXG5cclxuR2FtZS51cGRhdGUgPSBmdW5jdGlvbigpe1xyXG5cclxufTtcclxuXHJcbkdhbWUuc3Bhd24gPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNwYXducG9pbnQgPSB7eDogTWF0aC5mbG9vcihGaWVsZC53aWR0aC8yKS0xLHk6RmllbGQuaGVpZ2h0LTF9XHJcbiAgICBHYW1lLnBsYXllci5wb3NpdGlvbiA9IHNwYXducG9pbnQ7XHJcbiAgICAvLyBlaW5lIHp1ZsOkbGxpZ2UgRmlndXIgYXVzd8OkaGxlblxyXG4gICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKEJveGVzLmxlbmd0aCkpO1xyXG4gICAgdmFyIGZpZ3VyZSA9IEJveGVzW2luZGV4XTtcclxuICAgIEdhbWUucGxheWVyLmZpZ3VyZSA9IGZpZ3VyZTtcclxuXHJcbiAgICAvLyBKZWRlIEtvb3JkaW5hdGUgZGVyIGdld8OkaGx0ZW4gRmlndXIgaXRlcmllcmVuXHJcbiAgICBmb3IgKHZhciBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgLy8gS29vcmRpbmF0ZSBpbSBTcGllbGZlbGQgc2V0emVuXHJcbiAgICAgICAgRmllbGQuZmllbGRbc3Bhd25wb2ludC54IC0gZmlndXJlW2ldLnhdW3NwYXducG9pbnQueSAtIGZpZ3VyZVtpXS55XSA9IHtcclxuICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgY29sb3I6IFwiYmx1ZVwiXHJcbiAgICAgICAgfTtcclxuICAgIH0gIFxyXG59O1xyXG5cclxuXHJcblxyXG5HYW1lLm1vdmVQbGF5ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgLy8gSmVkZSBLb29yZGluYXRlIGRlciBnZXfDpGhsdGVuIEZpZ3VyIGl0ZXJpZXJlblxyXG4gICAgZm9yICh2YXIgaT0wO2k8NDtpKyspe1xyXG4gICAgICAgIC8vIEtvb3JkaW5hdGUgaW0gU3BpZWxmZWxkIHNldHplblxyXG4gICAgICAgIEZpZWxkLmZpZWxkW0dhbWUucGxheWVyLnBvc2l0aW9uLnggLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueF1bR2FtZS5wbGF5ZXIucG9zaXRpb24ueSAtIEdhbWUucGxheWVyLmZpZ3VyZVtpXS55XSA9IHtcclxuICAgICAgICAgICAgc2hvdzogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCJcclxuICAgICAgICB9O1xyXG4gICAgfSAgXHJcbiAgICBHYW1lLnBsYXllci5wb3NpdGlvbi55LS07XHJcbiAgICAvLyBKZWRlIEtvb3JkaW5hdGUgZGVyIGdld8OkaGx0ZW4gRmlndXIgaXRlcmllcmVuXHJcbiAgICBmb3IgKHZhciBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgLy8gS29vcmRpbmF0ZSBpbSBTcGllbGZlbGQgc2V0emVuXHJcbiAgICAgICAgRmllbGQuZmllbGRbR2FtZS5wbGF5ZXIucG9zaXRpb24ueCAtIEdhbWUucGxheWVyLmZpZ3VyZVtpXS54XVtHYW1lLnBsYXllci5wb3NpdGlvbi55IC0gR2FtZS5wbGF5ZXIuZmlndXJlW2ldLnldID0ge1xyXG4gICAgICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJibHVlXCJcclxuICAgICAgICB9O1xyXG4gICAgfSAgXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWU7XHJcbiIsInZhciBHYW1lID0gcmVxdWlyZSgnLi9HYW1lLmpzJyk7XHJcbnZhciBBcHAgPSByZXF1aXJlKCcuL0FwcC5qcycpO1xyXG52YXIgRmllbGQgPSByZXF1aXJlKCcuL0ZpZWxkLmpzJyk7XHJcblxyXG5BcHAuaW5pdCgpO1xyXG5GaWVsZC5pbml0KCk7XHJcblxyXG5HYW1lLnNwYXduKCk7XHJcblxyXG5HYW1lLnN0YXJ0KCk7Il19
