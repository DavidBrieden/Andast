(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var App = {};

App.init = function () {
    this.canvas = document.getElementById("canvas");
    this.canvas.width = 800;
    this.canvas.height = 600;
    this.ctx = this.canvas.getContext("2d");
};

module.exports = App;

},{}],2:[function(require,module,exports){
"use strict";

var boxes = [];

// X
//XXX
boxes.push([{ x: -1, y: 0 }, { x: 0, y: 0 }, { x: 1, y: 0 }, { x: 0, y: 1 }]);
//XX
// XX
boxes.push([{ x: -1, y: 1 }, { x: 0, y: 1 }, { x: 0, y: 0 }, { x: 1, y: 0 }]);
//XX
//XX
boxes.push([{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 0 }, { x: 1, y: 1 }]);
//X
//X
//X
//X
boxes.push([{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 0, y: 2 }, { x: 0, y: -1 }]);
//X
//X
//XX
boxes.push([{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 0, y: -1 }, { x: -1, y: -1 }]);
// X
// X
//XX
boxes.push([{ x: 0, y: 0 }, { x: 0, y: 1 }, { x: 0, y: -1 }, { x: 1, y: -1 }]);
// XX
//XX
boxes.push([{ x: -1, y: 0 }, { x: 0, y: 0 }, { x: 0, y: 1 }, { x: 1, y: 1 }]);

module.exports = boxes;

},{}],3:[function(require,module,exports){
"use strict";

var App = require("./App.js");

var Field = {};

Field.init = function () {

    Field.offsetx = 20;
    Field.offsety = 20;
    Field.blocksize = 15;
    Field.width = 20;
    Field.height = 35;

    Field.field = [];
    for (var x = 0; x < Field.width; x++) {
        var column = [];
        for (var y = 0; y < Field.height; y++) {
            column.push({
                show: false,
                color: 0
            });
        }
        Field.field.push(column);
    }
};

Field.render = function () {
    for (var x = 0; x < Field.width; x++) {
        for (var y = 0; y < Field.height; y++) {
            if (Field.field[x][y].show == true) {
                App.ctx.beginPath();
                App.ctx.lineWidth = "3";
                App.ctx.strokeStyle = Field.field[x][y].color;
                App.ctx.fillStyle = "black";

                App.ctx.fillRect(x * Field.blocksize + Field.offsetx, (Field.height - 1) * Field.blocksize + Field.offsety - y * Field.blocksize, Field.blocksize, Field.blocksize);

                App.ctx.fillStyle = Field.field[x][y].color;

                App.ctx.fillRect(x * Field.blocksize + Field.offsetx + Field.blocksize / 10, (Field.height - 1) * Field.blocksize + Field.offsety - y * Field.blocksize + Field.blocksize / 10, Field.blocksize / 10 * 8, Field.blocksize / 10 * 8);

                App.ctx.stroke();
            }
        }
    }

    App.ctx.beginPath();
    App.ctx.lineWidth = "1";
    App.ctx.strokeStyle = "black";
    App.ctx.rect(Field.offsetx, Field.offsety, Field.width * Field.blocksize, Field.height * Field.blocksize);
    App.ctx.stroke();
};

module.exports = Field;

},{"./App.js":1}],4:[function(require,module,exports){
'use strict';

var Field = require('./Field.js');
var App = require('./App.js');
var Boxes = require('./Boxes.js');
var Scoreboard = require('./Scoreboard.js');
var Game = {};

Game.speed = 1000;
Game.nextSpawn = Math.floor(Math.random() * Boxes.length);

Game.player = {};

Game.start = function () {
    setInterval(this.tick, 50);
    Game.interval = setInterval(function () {
        Game.movePlayer(0, -1);
    }, Game.speed);
    setInterval(function () {
        Game.setSpeed(Game.speed * 0.9);
    }, 10000);

    document.addEventListener("keydown", function (e) {
        if (e.keyCode == '40') {
            // down arrow
            Game.movePlayer(0, -1);
        } else if (e.keyCode == '37') {
            // left arrow
            Game.movePlayer(-1, 0);
        } else if (e.keyCode == '39') {
            // right arrow
            Game.movePlayer(1, 0);
        } else if (e.keyCode == '38') {
            // up arrow
            Game.spawn();
        } else if (e.keyCode == '32') {
            // press space to flip boxes

            // prevent scrolling
            e.preventDefault();
            var flip = Array.from(Game.player.figure);
            for (var i = 0; i < 4; i++) {
                // Koordinate im Spielfeld setzen
                Field.field[Game.player.position.x - Game.player.figure[i].x][Game.player.position.y - Game.player.figure[i].y] = {
                    show: false,
                    color: "green"
                };
                Game.player.figure[i] = {
                    x: 0 - flip[i].y,
                    y: flip[i].x
                };
                /*if (Field.field[Game.player.position.x-x][Game.player.position.y - y].show==true){
                    Game.player.figure = flip;
                }*/
            }
            // damit das Spielfeld direkt geupdatet wird
            Game.movePlayer(0, 0);
        }
    });
};

Game.setSpeed = function (speed) {
    window.clearInterval(Game.interval);
    Game.speed = speed;
    Game.interval = setInterval(function () {
        Game.movePlayer(0, -1);
    }, Game.speed);
};

Game.tick = function () {
    Game.update();
    Game.render();
};

Game.render = function () {
    App.ctx.clearRect(0, 0, App.canvas.width, App.canvas.height);
    Field.render();
    Scoreboard.render();
};

Game.update = function () {};

Game.spawn = function () {
    var spawnpoint = { x: Math.floor(Field.width / 2) - 1, y: Field.height - 3 };
    Game.player.position = spawnpoint;
    // eine zufällige Figur auswählen
    var index = Game.nextSpawn;
    Game.nextSpawn = Math.floor(Math.random() * Boxes.length);
    var figure = Array.from(Boxes[index]);
    Game.player.figure = figure;

    var r = Math.floor(Math.random() * 256);
    var g = Math.floor(Math.random() * 256);
    var b = Math.floor(Math.random() * 256);

    Game.player.color = 'rgb(' + r + ',' + g + ',' + b + ')';

    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[spawnpoint.x - figure[i].x][spawnpoint.y - figure[i].y] = {
            show: true,
            color: Game.player.color
        };
    }
};

Game.testRow = function (y) {
    for (var i = 0; i < Field.width; i++) {
        if (Field.field[i][y].show == false) return false;
    }
    return true;
};

Game.deleteRow = function (y) {
    //delete full row
    for (var i = 0; i < Field.width; i++) {
        Field.field[i][y].show = false;
    }

    //move upper rows
    for (var i = y + 1; i < Field.height; i++) {
        for (var j = 0; j < Field.width; j++) {
            Field.field[j][i - 1] = Field.field[j][i];
        }
    }
};

Game.detectCollision = function (x, y) {
    for (var i = 0; i < 4; i++) {
        if (Game.player.position.x - Game.player.figure[i].x + x < 0 || Game.player.position.x - Game.player.figure[i].x + x >= Field.width) {
            //collision occurs during x axis movement
            return true;
        } else if (Game.player.position.y - Game.player.figure[i].y + y < 0) {
            //collision occurs during down movement
            return true;
        } else if (Field.field[Game.player.position.x - Game.player.figure[i].x + x][Game.player.position.y - Game.player.figure[i].y + y].show == true) {
            //collision with other block
            return true;
        }
    }
    return false;
};

Game.movePlayer = function (x, y) {

    var spawn = false;

    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[Game.player.position.x - Game.player.figure[i].x][Game.player.position.y - Game.player.figure[i].y] = {
            show: false,
            color: "green"
        };
    }

    if (Game.detectCollision(x, y) == true) {
        if (x != 0) {
            x = 0;
        } else if (y != 0) {
            y = 0;
            spawn = true;
        }
    }

    Game.player.position.y += y;
    Game.player.position.x += x;
    // Jede Koordinate der gewählten Figur iterieren
    for (var i = 0; i < 4; i++) {
        // Koordinate im Spielfeld setzen
        Field.field[Game.player.position.x - Game.player.figure[i].x][Game.player.position.y - Game.player.figure[i].y] = {
            show: true,
            color: Game.player.color
        };
    }

    if (spawn == true) {
        //test if Row is full
        for (var i = 0; i < 4; i++) {
            if (Game.testRow(Game.player.position.y - Game.player.figure[i].y) == true) {
                Game.deleteRow(Game.player.position.y - Game.player.figure[i].y);
                Scoreboard.score += 100;
            }
        }
        spawn = false;
        Game.spawn();
    }
};

module.exports = Game;

},{"./App.js":1,"./Boxes.js":2,"./Field.js":3,"./Scoreboard.js":5}],5:[function(require,module,exports){
'use strict';

var App = require('./App.js');
var Field = require('./Field.js');

var Scoreboard = {};

Scoreboard.init = function () {
    this.offsetx = 20;
    this.offsety = 0;
    this.width = 170;
    this.height = 50;

    this.score = 0;

    this.fontsize = 30;
};

Scoreboard.render = function () {
    App.ctx.beginPath();
    App.ctx.lineWidth = "1";
    App.ctx.strokeStyle = "black";
    App.ctx.fillStyle = "black";

    var boardX = Field.offsetx + Field.width * Field.blocksize + this.offsetx;
    var boardY = Field.offsety + this.offsety;

    App.ctx.rect(boardX, boardY, this.width, this.height);

    App.ctx.font = this.fontsize + "px Comic Sans MS";
    App.ctx.textAlign = "center";
    App.ctx.textBaseline = "middle";
    App.ctx.fillText(this.score, boardX + this.width / 2, boardY + this.height / 2);

    App.ctx.stroke();
};

module.exports = Scoreboard;

},{"./App.js":1,"./Field.js":3}],6:[function(require,module,exports){
'use strict';

var Game = require('./Game.js');
var App = require('./App.js');
var Field = require('./Field.js');
var Scoreboard = require('./Scoreboard.js');

App.init();
Field.init();
Scoreboard.init();

Game.spawn();

Game.start();

},{"./App.js":1,"./Field.js":3,"./Game.js":4,"./Scoreboard.js":5}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGNsaWVudFxcc2NyaXB0c1xcQXBwLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEJveGVzLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEZpZWxkLmpzIiwic3JjXFxjbGllbnRcXHNjcmlwdHNcXEdhbWUuanMiLCJzcmNcXGNsaWVudFxcc2NyaXB0c1xcU2NvcmVib2FyZC5qcyIsInNyY1xcY2xpZW50XFxzY3JpcHRzXFxtYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFJLE1BQU0sRUFBVjs7QUFFQSxJQUFJLElBQUosR0FBVyxZQUFVO0FBQ2pCLFNBQUssTUFBTCxHQUFjLFNBQVMsY0FBVCxDQUF3QixRQUF4QixDQUFkO0FBQ0EsU0FBSyxNQUFMLENBQVksS0FBWixHQUFvQixHQUFwQjtBQUNBLFNBQUssTUFBTCxDQUFZLE1BQVosR0FBcUIsR0FBckI7QUFDQSxTQUFLLEdBQUwsR0FBVyxLQUFLLE1BQUwsQ0FBWSxVQUFaLENBQXVCLElBQXZCLENBQVg7QUFDSCxDQUxEOztBQU9BLE9BQU8sT0FBUCxHQUFpQixHQUFqQjs7Ozs7QUNUQSxJQUFJLFFBQVEsRUFBWjs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxJQUFOLENBQVcsQ0FBQyxFQUFDLEdBQUUsQ0FBQyxDQUFKLEVBQU0sR0FBRSxDQUFSLEVBQUQsRUFBWSxFQUFDLEdBQUUsQ0FBSCxFQUFLLEdBQUUsQ0FBUCxFQUFaLEVBQXNCLEVBQUMsR0FBRSxDQUFILEVBQUssR0FBRSxDQUFQLEVBQXRCLEVBQWdDLEVBQUMsR0FBRSxDQUFILEVBQUssR0FBRSxDQUFQLEVBQWhDLENBQVg7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFOLENBQVcsQ0FBQyxFQUFDLEdBQUUsQ0FBQyxDQUFKLEVBQU0sR0FBRSxDQUFSLEVBQUQsRUFBWSxFQUFDLEdBQUUsQ0FBSCxFQUFLLEdBQUUsQ0FBUCxFQUFa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IiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBBcHAgPSB7fTtcclxuXHJcbkFwcC5pbml0ID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDgwMDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDYwMDtcclxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBcHA7IiwidmFyIGJveGVzID0gW107XHJcblxyXG4vLyBYXHJcbi8vWFhYXHJcbmJveGVzLnB1c2goW3t4Oi0xLHk6MH0se3g6MCx5OjB9LHt4OjEseTowfSx7eDowLHk6MX1dKTtcclxuLy9YWFxyXG4vLyBYWFxyXG5ib3hlcy5wdXNoKFt7eDotMSx5OjF9LHt4OjAseToxfSx7eDowLHk6MH0se3g6MSx5OjB9XSk7XHJcbi8vWFhcclxuLy9YWFxyXG5ib3hlcy5wdXNoKFt7eDowLHk6MH0se3g6MCx5OjF9LHt4OjEseTowfSx7eDoxLHk6MX1dKTtcclxuLy9YXHJcbi8vWFxyXG4vL1hcclxuLy9YXHJcbmJveGVzLnB1c2goW3t4OjAseTowfSx7eDowLHk6MX0se3g6MCx5OjJ9LHt4OjAseTotMX1dKTtcclxuLy9YXHJcbi8vWFxyXG4vL1hYXHJcbmJveGVzLnB1c2goW3t4OjAseTowfSx7eDowLHk6MX0se3g6MCx5Oi0xfSx7eDotMSx5Oi0xfV0pO1xyXG4vLyBYXHJcbi8vIFhcclxuLy9YWFxyXG5ib3hlcy5wdXNoKFt7eDowLHk6MH0se3g6MCx5OjF9LHt4OjAseTotMX0se3g6MSx5Oi0xfV0pO1xyXG4vLyBYWFxyXG4vL1hYXHJcbmJveGVzLnB1c2goW3t4Oi0xLHk6MH0se3g6MCx5OjB9LHt4OjAseToxfSx7eDoxLHk6MX1dKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYm94ZXM7XHJcbiIsInZhciBBcHAgPSByZXF1aXJlKFwiLi9BcHAuanNcIik7XHJcblxyXG5cclxudmFyIEZpZWxkID0ge307XHJcblxyXG5GaWVsZC5pbml0ID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICBGaWVsZC5vZmZzZXR4ID0gMjA7XHJcbiAgICBGaWVsZC5vZmZzZXR5ID0gMjA7XHJcbiAgICBGaWVsZC5ibG9ja3NpemUgPSAxNTtcclxuICAgIEZpZWxkLndpZHRoID0gMjA7XHJcbiAgICBGaWVsZC5oZWlnaHQgPSAzNTtcclxuXHJcbiAgICBGaWVsZC5maWVsZCA9IFtdO1xyXG4gICAgZm9yKHZhciB4PTA7eDxGaWVsZC53aWR0aDt4Kyspe1xyXG4gICAgICAgIHZhciBjb2x1bW4gPSBbXTtcclxuICAgICAgICBmb3IodmFyIHk9MDt5PEZpZWxkLmhlaWdodDt5Kyspe1xyXG4gICAgICAgICAgICBjb2x1bW4ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGaWVsZC5maWVsZC5wdXNoKGNvbHVtbik7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbn07XHJcblxyXG5cclxuRmllbGQucmVuZGVyID0gZnVuY3Rpb24oKXtcclxuICAgIGZvcih2YXIgeD0wO3g8RmllbGQud2lkdGg7eCsrKXtcclxuICAgICAgICBmb3IodmFyIHk9MDt5PEZpZWxkLmhlaWdodDt5Kyspe1xyXG4gICAgICAgICAgICBpZiAoRmllbGQuZmllbGRbeF1beV0uc2hvdyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgQXBwLmN0eC5saW5lV2lkdGg9XCIzXCI7XHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LnN0cm9rZVN0eWxlID0gRmllbGQuZmllbGRbeF1beV0uY29sb3I7XHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LmZpbGxSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHgqRmllbGQuYmxvY2tzaXplK0ZpZWxkLm9mZnNldHgsXHJcbiAgICAgICAgICAgICAgICAgICAgKChGaWVsZC5oZWlnaHQtMSkqRmllbGQuYmxvY2tzaXplKStGaWVsZC5vZmZzZXR5LSh5KkZpZWxkLmJsb2Nrc2l6ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgRmllbGQuYmxvY2tzaXplLFxyXG4gICAgICAgICAgICAgICAgICAgIEZpZWxkLmJsb2Nrc2l6ZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBBcHAuY3R4LmZpbGxTdHlsZSA9IEZpZWxkLmZpZWxkW3hdW3ldLmNvbG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIEFwcC5jdHguZmlsbFJlY3QoXHJcbiAgICAgICAgICAgICAgICAgICAgeCpGaWVsZC5ibG9ja3NpemUrRmllbGQub2Zmc2V0eCtGaWVsZC5ibG9ja3NpemUvMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgKChGaWVsZC5oZWlnaHQtMSkqRmllbGQuYmxvY2tzaXplKStGaWVsZC5vZmZzZXR5LSh5KkZpZWxkLmJsb2Nrc2l6ZSkrRmllbGQuYmxvY2tzaXplLzEwLFxyXG4gICAgICAgICAgICAgICAgICAgIEZpZWxkLmJsb2Nrc2l6ZS8xMCo4LFxyXG4gICAgICAgICAgICAgICAgICAgIEZpZWxkLmJsb2Nrc2l6ZS8xMCo4XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIEFwcC5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQXBwLmN0eC5iZWdpblBhdGgoKTtcclxuICAgIEFwcC5jdHgubGluZVdpZHRoPVwiMVwiO1xyXG4gICAgQXBwLmN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgIEFwcC5jdHgucmVjdChcclxuICAgICAgICBGaWVsZC5vZmZzZXR4LFxyXG4gICAgICAgIEZpZWxkLm9mZnNldHksXHJcbiAgICAgICAgRmllbGQud2lkdGgqRmllbGQuYmxvY2tzaXplLFxyXG4gICAgICAgIEZpZWxkLmhlaWdodCAqIEZpZWxkLmJsb2Nrc2l6ZVxyXG4gICAgKTtcclxuICAgIEFwcC5jdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRmllbGQ7IiwidmFyIEZpZWxkID0gcmVxdWlyZSgnLi9GaWVsZC5qcycpO1xyXG52YXIgQXBwID0gcmVxdWlyZSgnLi9BcHAuanMnKTtcclxudmFyIEJveGVzID0gcmVxdWlyZSgnLi9Cb3hlcy5qcycpO1xyXG52YXIgU2NvcmVib2FyZCA9IHJlcXVpcmUoJy4vU2NvcmVib2FyZC5qcycpO1xyXG52YXIgR2FtZSA9IHt9O1xyXG5cclxuR2FtZS5zcGVlZCA9IDEwMDA7XHJcbkdhbWUubmV4dFNwYXduID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKEJveGVzLmxlbmd0aCkpO1xyXG5cclxuR2FtZS5wbGF5ZXIgPSB7fTtcclxuXHJcbkdhbWUuc3RhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgc2V0SW50ZXJ2YWwodGhpcy50aWNrLCA1MCk7XHJcbiAgICBHYW1lLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtHYW1lLm1vdmVQbGF5ZXIoMCwtMSk7fSwgR2FtZS5zcGVlZCk7XHJcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe0dhbWUuc2V0U3BlZWQoR2FtZS5zcGVlZCowLjkpO30sMTAwMDApO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gJzQwJykge1xyXG4gICAgICAgICAgICAvLyBkb3duIGFycm93XHJcbiAgICAgICAgICAgIEdhbWUubW92ZVBsYXllcigwLC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09ICczNycpIHtcclxuICAgICAgICAgICAgLy8gbGVmdCBhcnJvd1xyXG4gICAgICAgICAgICBHYW1lLm1vdmVQbGF5ZXIoLTEsMCk7ICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzknKSB7XHJcbiAgICAgICAgICAgIC8vIHJpZ2h0IGFycm93XHJcbiAgICAgICAgICAgIEdhbWUubW92ZVBsYXllcigxLDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT0gJzM4Jykge1xyXG4gICAgICAgICAgICAvLyB1cCBhcnJvd1xyXG4gICAgICAgICAgICBHYW1lLnNwYXduKCk7XHJcbiAgICAgICAgfWVsc2UgaWYgKGUua2V5Q29kZSA9PSAnMzInKSB7XHJcbiAgICAgICAgICAgIC8vIHByZXNzIHNwYWNlIHRvIGZsaXAgYm94ZXNcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIHByZXZlbnQgc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGZsaXAgPSBBcnJheS5mcm9tKEdhbWUucGxheWVyLmZpZ3VyZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDtpPDQ7aSsrKXtcclxuICAgICAgICAgICAgICAgIC8vIEtvb3JkaW5hdGUgaW0gU3BpZWxmZWxkIHNldHplblxyXG4gICAgICAgICAgICAgICAgRmllbGQuZmllbGRbR2FtZS5wbGF5ZXIucG9zaXRpb24ueCAtIEdhbWUucGxheWVyLmZpZ3VyZVtpXS54XVtHYW1lLnBsYXllci5wb3NpdGlvbi55IC0gR2FtZS5wbGF5ZXIuZmlndXJlW2ldLnldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBHYW1lLnBsYXllci5maWd1cmVbaV09e1xyXG4gICAgICAgICAgICAgICAgICAgIHg6MC1mbGlwW2ldLnksXHJcbiAgICAgICAgICAgICAgICAgICAgeTpmbGlwW2ldLnhcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvKmlmIChGaWVsZC5maWVsZFtHYW1lLnBsYXllci5wb3NpdGlvbi54LXhdW0dhbWUucGxheWVyLnBvc2l0aW9uLnkgLSB5XS5zaG93PT10cnVlKXtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lLnBsYXllci5maWd1cmUgPSBmbGlwO1xyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgIH0gIFxyXG4gICAgICAgICAgICAvLyBkYW1pdCBkYXMgU3BpZWxmZWxkIGRpcmVrdCBnZXVwZGF0ZXQgd2lyZFxyXG4gICAgICAgICAgICBHYW1lLm1vdmVQbGF5ZXIoMCwwKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn07XHJcblxyXG5HYW1lLnNldFNwZWVkID0gZnVuY3Rpb24oc3BlZWQpe1xyXG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwoR2FtZS5pbnRlcnZhbCk7XHJcbiAgICBHYW1lLnNwZWVkID0gc3BlZWQ7XHJcbiAgICBHYW1lLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtHYW1lLm1vdmVQbGF5ZXIoMCwtMSk7fSwgR2FtZS5zcGVlZCk7XHJcbn1cclxuXHJcbkdhbWUudGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICBHYW1lLnVwZGF0ZSgpO1xyXG4gICAgR2FtZS5yZW5kZXIoKTtcclxufTtcclxuXHJcbkdhbWUucmVuZGVyID0gZnVuY3Rpb24oKXtcclxuICAgIEFwcC5jdHguY2xlYXJSZWN0KDAsIDAsIEFwcC5jYW52YXMud2lkdGgsIEFwcC5jYW52YXMuaGVpZ2h0KTtcclxuICAgIEZpZWxkLnJlbmRlcigpO1xyXG4gICAgU2NvcmVib2FyZC5yZW5kZXIoKTtcclxufTtcclxuXHJcbkdhbWUudXBkYXRlID0gZnVuY3Rpb24oKXtcclxuXHJcbn07XHJcblxyXG5HYW1lLnNwYXduID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzcGF3bnBvaW50ID0ge3g6IE1hdGguZmxvb3IoRmllbGQud2lkdGgvMiktMSx5OkZpZWxkLmhlaWdodC0zfVxyXG4gICAgR2FtZS5wbGF5ZXIucG9zaXRpb24gPSBzcGF3bnBvaW50O1xyXG4gICAgLy8gZWluZSB6dWbDpGxsaWdlIEZpZ3VyIGF1c3fDpGhsZW5cclxuICAgIHZhciBpbmRleCA9IEdhbWUubmV4dFNwYXduO1xyXG4gICAgR2FtZS5uZXh0U3Bhd24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoQm94ZXMubGVuZ3RoKSk7XHJcbiAgICB2YXIgZmlndXJlID0gQXJyYXkuZnJvbShCb3hlc1tpbmRleF0pO1xyXG4gICAgR2FtZS5wbGF5ZXIuZmlndXJlID0gZmlndXJlO1xyXG5cclxuICAgIHZhciByID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjI1Nik7XHJcbiAgICB2YXIgZyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoyNTYpO1xyXG4gICAgdmFyIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KTtcclxuXHJcbiAgICBHYW1lLnBsYXllci5jb2xvciA9ICdyZ2IoJytyKycsJytnKycsJytiKycpJztcclxuXHJcbiAgICAvLyBKZWRlIEtvb3JkaW5hdGUgZGVyIGdld8OkaGx0ZW4gRmlndXIgaXRlcmllcmVuXHJcbiAgICBmb3IgKHZhciBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgLy8gS29vcmRpbmF0ZSBpbSBTcGllbGZlbGQgc2V0emVuXHJcbiAgICAgICAgRmllbGQuZmllbGRbc3Bhd25wb2ludC54IC0gZmlndXJlW2ldLnhdW3NwYXducG9pbnQueSAtIGZpZ3VyZVtpXS55XSA9IHtcclxuICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgY29sb3I6IEdhbWUucGxheWVyLmNvbG9yXHJcbiAgICAgICAgfTtcclxuICAgIH0gIFxyXG59O1xyXG5cclxuR2FtZS50ZXN0Um93ID0gZnVuY3Rpb24oeSl7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEZpZWxkLndpZHRoOyBpKyspe1xyXG4gICAgICAgIGlmIChGaWVsZC5maWVsZFtpXVt5XS5zaG93ID09IGZhbHNlKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcblxyXG59O1xyXG5cclxuR2FtZS5kZWxldGVSb3cgPSBmdW5jdGlvbih5KXtcclxuICAgIC8vZGVsZXRlIGZ1bGwgcm93XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEZpZWxkLndpZHRoO2krKyl7XHJcbiAgICAgICAgRmllbGQuZmllbGRbaV1beV0uc2hvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbW92ZSB1cHBlciByb3dzXHJcbiAgICBmb3IgKHZhciBpID0geSsxOyBpPCBGaWVsZC5oZWlnaHQ7aSsrKXtcclxuICAgICAgICBmb3IodmFyIGo9MDsgajwgRmllbGQud2lkdGg7aisrKXtcclxuICAgICAgICAgICAgRmllbGQuZmllbGRbal1baS0xXT1GaWVsZC5maWVsZFtqXVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5HYW1lLmRldGVjdENvbGxpc2lvbiA9IGZ1bmN0aW9uKHgseSl7XHJcbiAgICBmb3IgKHZhciBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgaWYgKEdhbWUucGxheWVyLnBvc2l0aW9uLnggLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueCArIHggPCAwIHx8IEdhbWUucGxheWVyLnBvc2l0aW9uLnggLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueCArIHggPj0gRmllbGQud2lkdGgpe1xyXG4gICAgICAgICAgICAvL2NvbGxpc2lvbiBvY2N1cnMgZHVyaW5nIHggYXhpcyBtb3ZlbWVudFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKEdhbWUucGxheWVyLnBvc2l0aW9uLnkgLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueSArIHkgPCAwKXtcclxuICAgICAgICAgICAgLy9jb2xsaXNpb24gb2NjdXJzIGR1cmluZyBkb3duIG1vdmVtZW50XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIEZpZWxkLmZpZWxkW0dhbWUucGxheWVyLnBvc2l0aW9uLnggLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueCt4XVtHYW1lLnBsYXllci5wb3NpdGlvbi55IC0gR2FtZS5wbGF5ZXIuZmlndXJlW2ldLnkreV0uc2hvdyA9PSB0cnVlKXtcclxuICAgICAgICAgICAgLy9jb2xsaXNpb24gd2l0aCBvdGhlciBibG9ja1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuR2FtZS5tb3ZlUGxheWVyID0gZnVuY3Rpb24oeCx5KXtcclxuXHJcbiAgICB2YXIgc3Bhd24gPSBmYWxzZTtcclxuXHJcbiAgICBcclxuICAgIC8vIEplZGUgS29vcmRpbmF0ZSBkZXIgZ2V3w6RobHRlbiBGaWd1ciBpdGVyaWVyZW5cclxuICAgIGZvciAodmFyIGk9MDtpPDQ7aSsrKXtcclxuICAgICAgICAvLyBLb29yZGluYXRlIGltIFNwaWVsZmVsZCBzZXR6ZW5cclxuICAgICAgICBGaWVsZC5maWVsZFtHYW1lLnBsYXllci5wb3NpdGlvbi54IC0gR2FtZS5wbGF5ZXIuZmlndXJlW2ldLnhdW0dhbWUucGxheWVyLnBvc2l0aW9uLnkgLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueV0gPSB7XHJcbiAgICAgICAgICAgIHNob3c6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJncmVlblwiXHJcbiAgICAgICAgfTtcclxuICAgIH0gIFxyXG5cclxuICAgIGlmIChHYW1lLmRldGVjdENvbGxpc2lvbih4LHkpID09IHRydWUpe1xyXG4gICAgICAgIGlmICh4IT0wKXtcclxuICAgICAgICAgICAgeD0wO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoeSE9MCl7XHJcbiAgICAgICAgICAgIHk9MDtcclxuICAgICAgICAgICAgc3Bhd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHYW1lLnBsYXllci5wb3NpdGlvbi55Kz15O1xyXG4gICAgR2FtZS5wbGF5ZXIucG9zaXRpb24ueCs9eDtcclxuICAgIC8vIEplZGUgS29vcmRpbmF0ZSBkZXIgZ2V3w6RobHRlbiBGaWd1ciBpdGVyaWVyZW5cclxuICAgIGZvciAodmFyIGk9MDtpPDQ7aSsrKXtcclxuICAgICAgICAvLyBLb29yZGluYXRlIGltIFNwaWVsZmVsZCBzZXR6ZW5cclxuICAgICAgICBGaWVsZC5maWVsZFtHYW1lLnBsYXllci5wb3NpdGlvbi54IC0gR2FtZS5wbGF5ZXIuZmlndXJlW2ldLnhdW0dhbWUucGxheWVyLnBvc2l0aW9uLnkgLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueV0gPSB7XHJcbiAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbG9yOiBHYW1lLnBsYXllci5jb2xvclxyXG4gICAgICAgIH07XHJcbiAgICB9ICBcclxuXHJcbiAgICBpZiAoc3Bhd24gPT0gdHJ1ZSl7XHJcbiAgICAgICAgLy90ZXN0IGlmIFJvdyBpcyBmdWxsXHJcbiAgICAgICAgZm9yICh2YXIgaT0wO2k8NDtpKyspe1xyXG4gICAgICAgICAgICBpZiAoR2FtZS50ZXN0Um93KEdhbWUucGxheWVyLnBvc2l0aW9uLnkgLSBHYW1lLnBsYXllci5maWd1cmVbaV0ueSk9PXRydWUpe1xyXG4gICAgICAgICAgICAgICAgR2FtZS5kZWxldGVSb3coR2FtZS5wbGF5ZXIucG9zaXRpb24ueSAtIEdhbWUucGxheWVyLmZpZ3VyZVtpXS55KTtcclxuICAgICAgICAgICAgICAgIFNjb3JlYm9hcmQuc2NvcmUgKz0gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNwYXduID0gZmFsc2U7XHJcbiAgICAgICAgR2FtZS5zcGF3bigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBHYW1lO1xyXG4iLCJ2YXIgQXBwID0gcmVxdWlyZSgnLi9BcHAuanMnKTtcclxudmFyIEZpZWxkID0gcmVxdWlyZSgnLi9GaWVsZC5qcycpO1xyXG5cclxudmFyIFNjb3JlYm9hcmQgPSB7fTtcclxuXHJcblNjb3JlYm9hcmQuaW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB0aGlzLm9mZnNldHggPSAyMDtcclxuICAgIHRoaXMub2Zmc2V0eSA9IDA7XHJcbiAgICB0aGlzLndpZHRoID0gMTcwO1xyXG4gICAgdGhpcy5oZWlnaHQgPSA1MDtcclxuXHJcbiAgICB0aGlzLnNjb3JlID0gMDtcclxuXHJcbiAgICB0aGlzLmZvbnRzaXplID0gMzA7XHJcbn07XHJcblxyXG5TY29yZWJvYXJkLnJlbmRlciA9IGZ1bmN0aW9uKCl7XHJcblx0QXBwLmN0eC5iZWdpblBhdGgoKTtcclxuICAgIEFwcC5jdHgubGluZVdpZHRoPVwiMVwiO1xyXG4gICAgQXBwLmN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgIEFwcC5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG5cclxuICAgIHZhciBib2FyZFggPSBGaWVsZC5vZmZzZXR4ICsgKEZpZWxkLndpZHRoICogRmllbGQuYmxvY2tzaXplKSArIHRoaXMub2Zmc2V0eDtcclxuICAgIHZhciBib2FyZFkgPSBGaWVsZC5vZmZzZXR5ICsgdGhpcy5vZmZzZXR5O1xyXG5cclxuICAgIEFwcC5jdHgucmVjdChcclxuICAgICAgICBib2FyZFgsXHJcbiAgICAgICAgYm9hcmRZLFxyXG4gICAgICAgIHRoaXMud2lkdGgsXHJcbiAgICAgICAgdGhpcy5oZWlnaHRcclxuICAgICk7XHJcblxyXG4gICAgQXBwLmN0eC5mb250ID0gdGhpcy5mb250c2l6ZSArIFwicHggQ29taWMgU2FucyBNU1wiO1xyXG4gICAgQXBwLmN0eC50ZXh0QWxpZ24gPVwiY2VudGVyXCI7IFxyXG4gICAgQXBwLmN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xyXG4gICAgQXBwLmN0eC5maWxsVGV4dChcclxuICAgICAgICB0aGlzLnNjb3JlLFxyXG4gICAgICAgIGJvYXJkWCsodGhpcy53aWR0aC8yKSxcclxuICAgICAgICBib2FyZFkrKHRoaXMuaGVpZ2h0LzIpXHJcbiAgICApO1xyXG5cclxuICAgIEFwcC5jdHguc3Ryb2tlKCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFNjb3JlYm9hcmQ7IiwidmFyIEdhbWUgPSByZXF1aXJlKCcuL0dhbWUuanMnKTtcclxudmFyIEFwcCA9IHJlcXVpcmUoJy4vQXBwLmpzJyk7XHJcbnZhciBGaWVsZCA9IHJlcXVpcmUoJy4vRmllbGQuanMnKTtcclxudmFyIFNjb3JlYm9hcmQgPSByZXF1aXJlKCcuL1Njb3JlYm9hcmQuanMnKTtcclxuXHJcbkFwcC5pbml0KCk7XHJcbkZpZWxkLmluaXQoKTtcclxuU2NvcmVib2FyZC5pbml0KCk7XHJcblxyXG5HYW1lLnNwYXduKCk7XHJcblxyXG5HYW1lLnN0YXJ0KCk7Il19
